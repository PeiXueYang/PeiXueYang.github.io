webpackJsonp([7],{QpHb:function(t,e){},tXtQ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),o=s.n(a),n=s("exGp"),r=s.n(n),l={data:function(){return{value1:"1",value2:"2",result:"",hisLine:"",long:"",width:"",loadTons:"",tpc:"",certTons:"",oilF:""}},methods:{shipDetail:function(){var t=this;return r()(o.a.mark(function e(){var s,a,n,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={shipCode:t.$route.query.code},e.prev=1,e.next=4,t.$http.shipDetail(s);case 4:0==(a=e.sent).data.status&&(t.result=a.data.result,n=a.data.result.historyRoute,a.data.result.historyRoute?(r=n.slice(1,n.length-1),l=r.split(","),t.hisLine=l):t.hisLine="",t.long=a.data.result.length,t.width=a.data.result.breadth,t.loadTons=a.data.result.loadTons,t.tpc=a.data.result.tpc,t.certTons=a.data.result.certTons,t.oilF=a.data.result.fuelConsumptionPerKm),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),t.$Notice.error({desc:"服务器错误,请稍后重试."}),Error(e.t0);case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()},save:function(){var t=this;return r()(o.a.mark(function e(){var s,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={shipCode:t.$route.query.code,length:t.long,breadth:t.width,loadTons:t.loadTons,tpc:t.tpc,certTons:t.certTons,fuelConsumptionPerKm:t.oilF},e.prev=1,e.next=4,t.$http.updateShip(s);case 4:if((a=e.sent).data.status){e.next=10;break}t.$Notice.success({desc:"保存成功"}),setTimeout(function(){var e=t.$router.resolve({path:"/shipCenter/shipdetail",query:{code:t.$route.query.code}}).href;window.open(e,"_blank")},1300),e.next=12;break;case 10:return t.$Notice.error({desc:a.data.msg}),e.abrupt("return",!1);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),t.$Notice.error({desc:"服务器错误,请稍后重试."}),console.log(e.t0);case 18:case"end":return e.stop()}},e,t,[[1,14]])}))()}},created:function(){this.shipDetail()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Card",{staticClass:"card"},[s("Breadcrumb",[s("BreadcrumbItem",[t._v("船舶中心")]),t._v(" "),s("BreadcrumbItem",[t._v("修改船舶信息")])],1),t._v(" "),s("div",{staticClass:"box-container"},[s("Collapse",{attrs:{accordion:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},[s("Panel",{attrs:{name:"1"}},[s("span",[t._v("船舶信息")]),t._v(" "),s("Row",{staticClass:"row",attrs:{slot:"content"},slot:"content"},[s("Col",{attrs:{span:"2"}},[t._v("船名")]),t._v(" "),s("Col",{attrs:{span:"6"}},[t._v(t._s(t.result.shipnameCn?t.result.shipnameCn:"-"))]),t._v(" "),s("Col",{attrs:{span:"2"}},[t._v("mmsi")]),t._v(" "),s("Col",{attrs:{span:"2"}},[t._v(t._s(t.result.mmsi?t.result.mmsi:"-"))])],1),t._v(" "),s("Row",{staticClass:"row",attrs:{slot:"content"},slot:"content"},[s("Col",{attrs:{span:"2"}},[t._v("船东")]),t._v(" "),s("Col",{attrs:{span:"6"}},[t._v(t._s(t.result.contactName?t.result.contactName:"-"))]),t._v(" "),s("Col",{attrs:{span:"2"}},[t._v("手机号")]),t._v(" "),s("Col",{attrs:{span:"6"}},[t._v(t._s(t.result.contactPhone?t.result.contactPhone:"-"))])],1),t._v(" "),s("Row",{staticClass:"row",attrs:{slot:"content"},slot:"content"},[s("Col",{attrs:{span:"2"}},[t._v("船长")]),t._v(" "),s("Col",{attrs:{span:"6"}},[s("Input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入船长"},model:{value:t.long,callback:function(e){t.long=e},expression:"long"}})],1),t._v(" "),s("Col",{attrs:{span:"2"}},[t._v("船宽")]),t._v(" "),s("Col",{attrs:{span:"6"}},[s("Input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入船宽"},model:{value:t.width,callback:function(e){t.width=e},expression:"width"}})],1)],1),t._v(" "),s("Row",{staticClass:"row",attrs:{slot:"content"},slot:"content"},[s("Col",{attrs:{span:"2"}},[t._v("载货吨位")]),t._v(" "),s("Col",{attrs:{span:"6"}},[s("Input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入载货吨位"},model:{value:t.loadTons,callback:function(e){t.loadTons=e},expression:"loadTons"}})],1),t._v(" "),s("Col",{attrs:{span:"2"}},[t._v("TPC")]),t._v(" "),s("Col",{attrs:{span:"6"}},[s("Input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入TPC"},model:{value:t.tpc,callback:function(e){t.tpc=e},expression:"tpc"}})],1)],1),t._v(" "),s("Row",{staticClass:"row",attrs:{slot:"content"},slot:"content"},[s("Col",{attrs:{span:"2"}},[t._v("证书吨位")]),t._v(" "),s("Col",{attrs:{span:"6"}},[s("Input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入证书吨位"},model:{value:t.certTons,callback:function(e){t.certTons=e},expression:"certTons"}})],1),t._v(" "),s("Col",{attrs:{span:"2"}},[t._v("每公里油耗")]),t._v(" "),s("Col",{attrs:{span:"6"}},[s("Input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入每公里油耗"},model:{value:t.oilF,callback:function(e){t.oilF=e},expression:"oilF"}})],1)],1),t._v(" "),s("Row",{staticClass:"row",attrs:{slot:"content"},slot:"content"},[s("Divider")],1),t._v(" "),s("Row",{staticClass:"row",attrs:{slot:"content"},slot:"content"},[s("Button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var i=s("VU/8")(l,c,!1,function(t){s("QpHb")},"data-v-c400fb56",null);e.default=i.exports}});
//# sourceMappingURL=7.4dc555879b08cabe823c.js.map