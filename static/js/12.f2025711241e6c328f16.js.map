{"version":3,"sources":["webpack:///src/pages/login.vue","webpack:///./src/pages/login.vue?4c6c","webpack:///./src/pages/login.vue"],"names":["login","data","formInline","user","password","ruleInline","required","message","trigger","type","transform","value","Number","min","methods","handleSubmit","name","_ref","_this","this","$refs","validate","asyncToGenerator_default","regenerator_default","a","mark","_callee","valid","_formInline","res","result","wrap","_context","prev","next","staff_phone","staff_password","$MD5","$http","sent","status","$Notice","success","desc","localStorage","setItem","staff_name","id","token","$router","push","error","msg","t0","stop","_x","apply","arguments","pages_login","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","model","rules","inline","prop","placeholder","nativeOn","keyup","$event","indexOf","_k","keyCode","key","callback","$$v","$set","expression","slot","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.f2025711241e6c328f16.js","sourcesContent":["<template>\n  <div class=\"login\">\n   <div class=\"login-con\">\n    <Card>\n        <p><span>欢迎登录,海易通数据管理中心</span></p>\n         <Divider />\n        <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" inline>\n            <FormItem prop=\"user\">\n                <Input type=\"text\" v-model=\"formInline.user\" placeholder=\"请输入手机号\" @keyup.enter.native=\"handleSubmit('formInline')\">\n                    <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n                </Input>\n            </FormItem>\n            <FormItem prop=\"password\">\n                <Input type=\"password\" v-model=\"formInline.password\" placeholder=\"请输入密码\" @keyup.enter.native=\"handleSubmit('formInline')\">\n                    <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n                </Input>\n            </FormItem>\n            <p class=\"bottom\">\n                <Button type=\"primary\" @click=\"handleSubmit('formInline')\" class=\"Signin\" >登录</Button>\n            </p>\n        </Form>\n    </Card>\n    </div>\n  </div>\n</template>\n<script>\n export default {\n        data () {\n            return {\n                formInline: {\n                    user: '',\n                    password: ''\n                },\n                ruleInline: {\n                    user: [\n                        { required: true, message: '请输入手机号', trigger: 'blur' },\n                        { type: 'number', message: '请输入正确的手机号', trigger: 'blur', transform(value) {\n                            return Number(value);\n                        }}\n                    ],\n                    password: [\n                        { required: true, message: '请输入密码.', trigger: 'blur' },\n                        { type: 'string', min: 6, message: '请输入至少六位密码.', trigger: 'blur' }\n                    ]\n                }\n            }\n        },\n        methods: {\n\n        handleSubmit (name) {\n                this.$refs[name].validate( async valid => {\n                    if (valid) {\n                        let {user,password} = this.formInline\n                        let data = {\n                            staff_phone:user,\n                            staff_password:this.$MD5(password)\n                        }\n                        try{\n                            let res =  await this.$http.login(data)\n                            if(0==res.data.status){\n                             let result = res.data.result\n                              this.$Notice.success({\n                                desc:\"恭喜,登录成功.\"\n                               })\n                               localStorage.setItem('staff_name', result.staff_name) // 员工姓名\n                               localStorage.setItem('id', result.id) // 员工id\n                               localStorage.setItem('token', result.token) // token\n                               this.$router.push({\n                                   name:'yunli'\n                               })\n                            }\n                            else{\n                                this.$Notice.error({\n                                desc:res.data.msg\n                               })\n                            }\n\n                        }catch(err){\n                            this.$Notice.error({\n                                desc:'服务器错误,请稍后重试.'\n                             })\n                        }\n\n\n                    } else {\n                        // this.$Message.error('Fail!');\n                    }\n                })\n            }\n        }\n    }\n</script>\n<style scoped>\n.login{\n    width: 100%;\n    height: 100%;\n    z-index: 100;\n    background-image: url('http://feiyuhuopanguanjia.oss-cn-hangzhou.aliyuncs.com/houtai/loginBg.jpg');\n    background-size: cover;\n    background-position: 50%;\n    position: relative;\n}\n.login-con{\n    position: absolute;\n    right: 160px;\n    top: 50%;\n    -webkit-transform: translateY(-60%);\n    transform: translateY(-60%);\n    width: 300px;\n}\n.ivu-card-head-inner, .ivu-card-head p{\n    display: inline-block;\n    width: 100%;\n    height: 20px;\n    line-height: 20px;\n    font-size: 14px;\n    color: #17233d;\n    font-weight: 700;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.ivu-form-inline .ivu-form-item{\n    width: 100%;\n}\n.Signin{\n     width: 100%;\n}\n.bottom{\n    padding-bottom: 20px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-con\"},[_c('Card',[_c('p',[_c('span',[_vm._v(\"欢迎登录,海易通数据管理中心\")])]),_vm._v(\" \"),_c('Divider'),_vm._v(\" \"),_c('Form',{ref:\"formInline\",attrs:{\"model\":_vm.formInline,\"rules\":_vm.ruleInline,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSubmit('formInline')}},model:{value:(_vm.formInline.user),callback:function ($$v) {_vm.$set(_vm.formInline, \"user\", $$v)},expression:\"formInline.user\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSubmit('formInline')}},model:{value:(_vm.formInline.password),callback:function ($$v) {_vm.$set(_vm.formInline, \"password\", $$v)},expression:\"formInline.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('p',{staticClass:\"bottom\"},[_c('Button',{staticClass:\"Signin\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formInline')}}},[_vm._v(\"登录\")])],1)],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-610c05db\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-610c05db\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-610c05db\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-610c05db\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}