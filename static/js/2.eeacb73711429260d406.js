webpackJsonp([2],{Tkci:function(e,t){},y3kW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),c=a("exGp"),s=a.n(c),i={data:function(){var e=this;return{name:"",total:10,columns1:[{title:"#",key:"Index",align:"center",width:80},{title:"船东姓名",key:"name",align:"center"},{title:"手机号",key:"phone",align:"center"},{title:"船舶数量",key:"shipCounter",align:"center"},{title:"详情",key:"detail",align:"center",width:120,render:function(t,a){return t("Button",{props:{type:"primary"},style:{display:"inline-block",background:"red;"},on:{click:function(){var t=e.$router.resolve({path:"/cdCenter/cddetail",query:{code:a.row.code}});window.open(t.href,"_blank")}}},"查看")}}],data1:[],currentPage:1,size:10}},watch:{name:function(){this.name||(this.size=10,this.cdList(),localStorage.removeItem("searchInfo"))}},methods:{cdList:function(){var e=this;return s()(n.a.mark(function t(){var a,r,c;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={currentPage:e.currentPage,size:e.size},t.prev=1,t.next=4,e.$http.cdList(a);case 4:0==(r=t.sent).data.status&&r.data.result instanceof Array?(e.total=r.data.total,c=r.data.result,e.data1=[],e.commonFn(c)):(e.$Notice.error({desc:"暂无数据"}),e.data1=[],e.total=0),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(1),e.$Notice.error({desc:"服务器错误,请稍后重试."}),Error(t.t0);case 12:case"end":return t.stop()}},t,e,[[1,8]])}))()},commonFn:function(e){var t=this;e.forEach(function(e,a){t.data1.push({Index:Number((t.currentPage-1)*t.size)+Number(a)+1,name:e.clientName,phone:e.phone,shipCounter:e.shipNum,id:e.id,code:e.code,detail:"查看"})})},changePage:function(e){this.currentPage=e,localStorage.searchInfo?this.search(e):this.cdList()},sizeChange:function(e){this.size=e,this.name?this.search():this.cdList()},search:function(e){var t=this;return s()(n.a.mark(function a(){var r,c,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.name){a.next=3;break}return t.$Notice.error({desc:"请输入船东姓名"}),a.abrupt("return",!1);case 3:return t.currentPage=e||1,r={currentPage:t.currentPage,size:t.size,trem:t.name},a.prev=5,a.next=8,t.$http.selectShipOwnerInfo(r);case 8:if(c=a.sent,t.total=c.data.total,t.data1=[],c.data.status||!(c.data.result instanceof Array)){a.next=18;break}localStorage.setItem("searchInfo",t.name),t.$Notice.success({desc:"查询成功"}),s=c.data.result,t.commonFn(s),a.next=20;break;case 18:return t.$Notice.error({desc:"暂无数据"}),a.abrupt("return",!1);case 20:a.next=27;break;case 22:throw a.prev=22,a.t0=a.catch(5),localStorage.removeItem("searchInfo"),t.$Notice.error({desc:"服务器错误,请稍后重试."}),Error(a.t0);case 27:case"end":return a.stop()}},a,t,[[5,22]])}))()}},created:function(){this.cdList()},destroyed:function(){localStorage.removeItem("searchInfo")}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{staticClass:"card"},[a("Breadcrumb",[a("BreadcrumbItem",[e._v("船东中心")]),e._v(" "),a("BreadcrumbItem",[e._v("船东列表")])],1),e._v(" "),a("div",{staticClass:"box-container"},[a("div",{staticStyle:{margin:"20px 0 40px 20px"}},[a("Input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入船东姓名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticStyle:{width:"75%","margin-left":"20px"}},[a("Table",{attrs:{border:"",columns:e.columns1,data:e.data1}}),e._v(" "),a("Page",{staticClass:"pages",attrs:{total:e.total,"show-elevator":"","show-sizer":"",current:e.currentPage,"page-size":e.size},on:{"on-change":e.changePage,"on-page-size-change":e.sizeChange}})],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(i,o,!1,function(e){a("Tkci")},"data-v-18613ffc",null);t.default=u.exports}});
//# sourceMappingURL=2.eeacb73711429260d406.js.map