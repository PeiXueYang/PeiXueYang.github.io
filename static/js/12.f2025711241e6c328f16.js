webpackJsonp([12],{"5LsV":function(e,t){},Luci:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Xxa5"),s=r.n(n),a=r("exGp"),o=r.n(a),i={data:function(){return{formInline:{user:"",password:""},ruleInline:{user:[{required:!0,message:"请输入手机号",trigger:"blur"},{type:"number",message:"请输入正确的手机号",trigger:"blur",transform:function(e){return Number(e)}}],password:[{required:!0,message:"请输入密码.",trigger:"blur"},{type:"string",min:6,message:"请输入至少六位密码.",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t,r=this;this.$refs[e].validate((t=o()(s.a.mark(function e(t){var n,a,o,i,l,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return n=r.formInline,a=n.user,o=n.password,i={staff_phone:a,staff_password:r.$MD5(o)},e.prev=3,e.next=6,r.$http.login(i);case 6:0==(l=e.sent).data.status?(u=l.data.result,r.$Notice.success({desc:"恭喜,登录成功."}),localStorage.setItem("staff_name",u.staff_name),localStorage.setItem("id",u.id),localStorage.setItem("token",u.token),r.$router.push({name:"yunli"})):r.$Notice.error({desc:l.data.msg}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),r.$Notice.error({desc:"服务器错误,请稍后重试."});case 13:e.next=15;break;case 15:case"end":return e.stop()}},e,r,[[3,10]])})),function(e){return t.apply(this,arguments)}))}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"login-con"},[r("Card",[r("p",[r("span",[e._v("欢迎登录,海易通数据管理中心")])]),e._v(" "),r("Divider"),e._v(" "),r("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline,inline:""}},[r("FormItem",{attrs:{prop:"user"}},[r("Input",{attrs:{type:"text",placeholder:"请输入手机号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit("formInline")}},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),r("FormItem",{attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit("formInline")}},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),r("p",{staticClass:"bottom"},[r("Button",{staticClass:"Signin",attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formInline")}}},[e._v("登录")])],1)],1)],1)],1)])},staticRenderFns:[]};var u=r("VU/8")(i,l,!1,function(e){r("5LsV")},"data-v-610c05db",null);t.default=u.exports}});
//# sourceMappingURL=12.f2025711241e6c328f16.js.map